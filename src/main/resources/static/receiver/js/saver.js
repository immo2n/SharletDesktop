var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if(!("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=e.URL||e.webkitURL||e,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o=!e.externalHost&&"download"in r,i=e.webkitRequestFileSystem,a=e.requestFileSystem||i||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",s=0,f=[],d=function(){for(var e=f.length;e--;){var t=f[e];"string"==typeof t?n.revokeObjectURL(t):t.remove()}f.length=0},l=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(i){c(i)}}},w=function(n,c){var d,w,v,p=this,y=n.type,h=!1,m=function(){var t=(e.URL||e.webkitURL||e).createObjectURL(n);return f.push(t),t},E=function(){l(p,"writestart progress write writeend".split(" "))},R=function(){(h||!d)&&(d=m(n)),w?w.location.href=d:window.open(d,"_blank"),p.readyState=p.DONE,E()},S=function(e){return function(){if(p.readyState!==p.DONE)return e.apply(this,arguments)}},O={create:!0,exclusive:!1};if(p.readyState=p.INIT,c||(c="download"),o){d=m(n),(r=(t=e.document).createElementNS("http://www.w3.org/1999/xhtml","a")).href=d,r.download=c;var b=t.createEvent("MouseEvents");b.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(b),p.readyState=p.DONE,E();return}if(e.chrome&&y&&y!==u&&(n=(v=n.slice||n.webkitSlice).call(n,0,n.size,u),h=!0),i&&"download"!==c&&(c+=".download"),(y===u||i)&&(w=e),!a){R();return}s+=n.size,a(e.TEMPORARY,s,S(function(e){e.root.getDirectory("saved",O,S(function(e){var t=function(){e.getFile(c,O,S(function(e){e.createWriter(S(function(t){t.onwriteend=function(t){w.location.href=e.toURL(),f.push(e),p.readyState=p.DONE,l(p,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&R()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=p["on"+e]}),t.write(n),p.abort=function(){t.abort(),p.readyState=p.DONE},p.readyState=p.WRITING}),R)}),R)};e.getFile(c,{create:!1},S(function(e){e.remove(),t()}),S(function(e){e.code===e.NOT_FOUND_ERR?t():R()}))}),R)}),R)},v=w.prototype,p=function(e,t){return new w(e,t)};return v.abort=function(){var e=this;e.readyState=e.DONE,l(e,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,e.addEventListener("unload",d,!1),p.unload=function(){d(),e.removeEventListener("unload",d,!1)},p}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&(module.exports=saveAs);